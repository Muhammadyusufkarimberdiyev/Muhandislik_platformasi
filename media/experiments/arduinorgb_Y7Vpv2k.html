<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RGB LED Arduino Simulyatori</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        /* RGB LED */
        .rgb-led {   
            position: absolute;
            right: 155px;
            top: 170px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;  
        }

        .led-inner {
           
            
            transition: all 0.3s ease;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        }

        /* LED ranglar */
        .rgb-led.red .led-inner {
            background: radial-gradient(circle, #ff0000 0%, #cc0000 70%, #990000 100%);
            box-shadow: 0 0 20px #ff0000, inset 0 0 10px rgba(255,255,255,0.2);
        }

        .rgb-led.green .led-inner {
            background: radial-gradient(circle, #00ff00 0%, #00cc00 70%, #009900 100%);
            box-shadow: 0 0 20px #00ff00, inset 0 0 10px rgba(255,255,255,0.2);
        }

        .rgb-led.blue .led-inner {
            background: radial-gradient(circle, #0000ff 0%, #0000cc 70%, #000099 100%);
            box-shadow: 0 0 20px #0000ff, inset 0 0 10px rgba(255,255,255,0.2);
        }

        .rgb-led.yellow .led-inner {
            background: radial-gradient(circle, #ffff00 0%, #cccc00 70%, #999900 100%);
            box-shadow: 0 0 20px #ffff00, inset 0 0 10px rgba(255,255,255,0.2);
        }

        .rgb-led.purple .led-inner {
            background: radial-gradient(circle, #ff00ff 0%, #cc00cc 70%, #990099 100%);
            box-shadow: 0 0 20px #ff00ff, inset 0 0 10px rgba(255,255,255,0.2);
        }

        .rgb-led.cyan .led-inner {
            background: radial-gradient(circle, #00ffff 0%, #00cccc 70%, #009999 100%);
            box-shadow: 0 0 20px #00ffff, inset 0 0 10px rgba(255,255,255,0.2);
        }

        .rgb-led.white .led-inner {
            background: radial-gradient(circle, #ffffff 0%, #cccccc 70%, #999999 100%);
            box-shadow: 0 0 20px #ffffff, inset 0 0 10px rgba(255,255,255,0.2);
        }

        .rgb-led.off .led-inner {
       
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        }
        body {
            font-family: Arial, sans-serif;
           
            min-height: 100vh;
            padding: 1vw;
        }

        .header {
            display: flex;
            align-items: center;
            background: #000075;
            color: white;
            padding: 1vw 2vw;
            box-shadow: 0 0.4vw 1.2vw rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-radius: 1vw;
            margin-bottom: 2vw;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1vw;
            font-size: clamp(14px, 1.4vw, 18px);
            font-weight: bold;
        }

        .logo img {
            width: clamp(50px, 6vw, 80px);
            height: auto;
        }

        .main-container {
            display: flex;
            gap: 2vw;
        }

        .left-panel {
            width: 20vw;
            min-width: 200px;
            background: white;
            padding: 1.5vw;
            border-radius: 0.8vw;
            box-shadow: 0 0.4vw 0.8vw rgba(0,0,0,0.1);
            height: fit-content;
        }

        .control-group {
            margin-bottom: 2vw;
            border-bottom: 0.1vw solid #ddd;
            padding-bottom: 1.5vw;
        }

        .control-group:last-child {
            border-bottom: none;
        }

        .control-group h3 {
            margin-bottom: 1vw;
            color: #333;
            font-size: clamp(13px, 1.3vw, 16px);
        }

        .btn {
            display: block;
            width: 100%;
            padding: 1vw;
            border: none;
            cursor: pointer;
            margin-bottom: 0.8vw;
            font-size: clamp(12px, 1.1vw, 14px);
            border-radius: 0.5vw;
            transition: all 0.3s;
            text-align: left;
        }

        .btn:hover {
            transform: translateY(-0.2vw);
            box-shadow: 0 0.4vw 0.8vw rgba(0,0,0,0.1);
        }

        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-primary { background: #000075; color: white; }
        .btn-info { background: #000075; color: white; }

        .status-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0.8vw 0;
            font-size: clamp(11px, 1.1vw, 13px);
        }

        .status-led {
            width: clamp(10px, 1vw, 12px);
            height: clamp(10px, 1vw, 12px);
            border-radius: 50%;
            background: #dc3545;
            transition: all 0.3s;
            box-shadow: inset 0 0 0.5vw rgba(0,0,0,0.5);
        }

        .status-led.on {
            background: #28a745;
            box-shadow: 0 0 1vw rgba(40, 167, 69, 0.8);
        }

        .main-content {
            flex: 1;
            padding: 2vw;
            background: white;
            border-radius: 0.8vw;
            box-shadow: 0 0.4vw 1.2vw rgba(0,0,0,0.1);
        }

        .title-header {
            background: #000075;
            color: white;
            padding: 1.2vw 2.5vw;
            border-radius: 2vw;
            font-size: clamp(15px, 1.5vw, 18px);
            font-weight: bold;
            text-align: center;
            margin-bottom: 3vw;
            box-shadow: 0 0.4vw 1.5vw rgba(0,0,0,0.2);
        }

        /* CIRCUIT BOARD - RESPONSIVE */
        .circuit-board {
            position: relative;
            width: 100%;
            max-width: 900px;
            aspect-ratio: 8 / 6;
            margin: 0 auto;
            background: #f0f0f0;
            border: 0.2vw solid #333;
            border-radius: 1vw;
            padding: 2%;
        }

        /* ARDUINO */
        .arduino {
            position: absolute;
            left: 1.25%;
            top: 8.3%;
            width: 43.75%;
            height: auto;
        }

        .arduino img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* BREADBOARD */
        .breadboard {
            position: absolute;
            right: 8.75%;
            top: 11%;
            width: 50%;
            height: auto;
        }

        .breadboard img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* RGB LED */
       /* --- RGB LED (tuzatilgan, bitta barqaror ta'rif) --- */
.rgb-led {
 width: 20px;
            height: 30px;
            border-radius: 10px 10px 0 0;
  position: absolute;
  right: 20.8%;
  top: 29.3%;
  background-color: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  z-index: 15;
}

/* Ichki LED (katta va markazlangan, foizlar ota elementga mos) */
.rgb-led .led-inner {
width: 20px;
            height: 30px;
            border-radius: 10px 10px 0 0;
  background: whitesmoke;
  transition: all 0.3s ease;
  box-shadow: inset 0 0 1vw rgba(0,0,0,0.5);
}

/* Ranglar (sizning mavjud rang qoidalaringiz shu yerda qoladi) */
.rgb-led.red .led-inner { 
  background: radial-gradient(circle, #ff0000 0%, #cc0000 70%, #990000 100%);
  box-shadow: 0 0 2vw #ff0000, inset 0 0 1vw rgba(255,255,255,0.2);
}
/* ... green, blue, yellow, purple, cyan, white qoidalari o'zgarmaydi ... */


        .rgb-led.green .led-inner {
            background: radial-gradient(circle, #00ff00 0%, #00cc00 70%, #009900 100%);
            box-shadow: 0 0 2vw #00ff00, inset 0 0 1vw rgba(255,255,255,0.2);
        }

        .rgb-led.blue .led-inner {
            background: radial-gradient(circle, #0000ff 0%, #0000cc 70%, #000099 100%);
            box-shadow: 0 0 2vw #0000ff, inset 0 0 1vw rgba(255,255,255,0.2);
        }

        .rgb-led.yellow .led-inner {
            background: radial-gradient(circle, #ffff00 0%, #cccc00 70%, #999900 100%);
            box-shadow: 0 0 2vw #ffff00, inset 0 0 1vw rgba(255,255,255,0.2);
        }

        .rgb-led.purple .led-inner {
            background: radial-gradient(circle, #ff00ff 0%, #cc00cc 70%, #990099 100%);
            box-shadow: 0 0 2vw #ff00ff, inset 0 0 1vw rgba(255,255,255,0.2);
        }

        .rgb-led.cyan .led-inner {
            background: radial-gradient(circle, #00ffff 0%, #00cccc 70%, #009999 100%);
            box-shadow: 0 0 2vw #00ffff, inset 0 0 1vw rgba(255,255,255,0.2);
        }

        .rgb-led.white .led-inner {
            background: radial-gradient(circle, #ffffff 0%, #cccccc 70%, #999999 100%);
            box-shadow: 0 0 2vw #ffffff, inset 0 0 1vw rgba(255,255,255,0.2);
        }

        /* LED PINS */
        .led-pin {
            position: absolute;
            width: 0.25%;
            height: 1.7%;
            background: black;
            z-index: 10;
        }

        .led-pin-1 { right: 20.1%; top: 33.8%; transform: rotate(-25deg); }
        .led-pin-2 { right: 21.1%; top: 34.2%; }
        .led-pin-3 { right: 22.5%; top: 34.2%; }
        .led-pin-4 { right: 23.4%; top: 33.8%; transform: rotate(25deg); }

        /* RESISTORS */
        .resistor {
            position: absolute;
            width: 6%;
            height: auto;
            z-index: 10;
            height: 8%;
        }

        .resistor img {
            width: 100%;
            height: auto;
            display: block;
        }

        .resistor.r220 { right: 21.6%; top: 37.5%; transform: rotate(90deg); }
        .resistor.r220-2 { right: 18.9%; top: 39.2%; transform: rotate(90deg); }
        .resistor.r220-3 { right: 17.5%; top: 39.2%; transform: rotate(90deg); }

        /* WIRES - RESPONSIVE */
        .wire {
            position: absolute;
            border-radius: 0.2vw;
            z-index: 10;
        }

        /* Arduino dan chiquvchi gorizontal simlar */
        .wire-arduino-red-h { background: #ff0000; width: 41%; height: 0.5%; left: 35%; top: 44.5%; }
        .wire-arduino-green-h { background: #00ff00; width: 44.1%; height: 0.5%; left: 35%; top: 47.2%; }
        .wire-arduino-blue-h { background: #0000ff; width: 45.2%; height: 0.5%; left: 35%; top: 48.8%; }
        .wire-arduino-gnd-h { background: #000000; width: 33%; height: 0.5%; left: 44.75%; top: 39.7%; }

        /* GND vertikal */
        .wire-arduino-gnd { background: #000000; width: 0.4%; height: 5.8%; left: 44.75%; top: 34.2%; }
        .wire-arduino-gnd-h1 { background: #000000; width: 10.4%; height: 0.5%; left: 34.75%; top: 34.2%; }

        /* Vertikal simlar resistorlar ostida */
        .wire-v2 { background: #00ff00; width: 0.5%; height: 1.7%; right: 21%; top: 45.8%; }
        .wire-v3 { background: #0000ff; width: 0.4%; height: 3.3%; right: 19.75%; top: 45.8%; }

        /* TIME DISPLAY */
        .time-display {
            position: absolute;
            top: 3.3%;
            right: 2.5%;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1.25% 1.9%;
            border-radius: 0.8vw;
            font-family: 'Courier New', monospace;
            font-size: clamp(12px, 1.3vw, 16px);
        }

        /* RESPONSIVE */
        @media (max-width: 1024px) {
            .main-container {
                flex-direction: column;
            }
            .left-panel {
                width: 100%;
                order: 2;
            }
            .main-content {
                order: 1;
            }
            .circuit-board {
                aspect-ratio: 1;
            }
        }

        @media (max-width: 768px) {
            .circuit-board {
                aspect-ratio: 4/5;
            }
        }

        @media (max-width: 480px) {
            .left-panel {
                min-width: unset;
            }
        }
          /* Left panel */
  .left-panel{width:280px;max-width:95%;background:#fff;border-radius:14px;padding:16px;box-shadow:0 6px 16px rgba(0,0,0,.08)}
  .left-panel h3{margin:0 0 12px;font-size:16px;color:#333}

  /* Buttons */
  .btn{display:block;width:100%;padding:10px 12px;margin:8px 0;border:0;border-radius:10px;cursor:pointer;transition:.25s;text-align:left;font-weight:600}
  .btn-primary{background:#000075;color:#fff}
  .btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 14px rgba(0,0,0,.1)}

  /* Flex blocks (rasm+matn) */
  .flex-container-40-60{display:flex;gap:20px;align-items:flex-start;background:rgba(255,255,255,.1);padding:20px;border-radius:15px;margin-bottom:20px}
  .flex-text-60{flex:1}
  .flex-text-60 p{font-size:16px;line-height:1.8}
  .flex-container-30-70{display:flex;gap:20px;align-items:flex-start;background:rgba(255,255,255,.1);padding:20px;border-radius:15px;margin-bottom:20px}
  .flex-image-30{flex:0 0 30%}
  .flex-image-30 img{width:100%;border-radius:10px}
  .flex-text-70{flex:0 0 70%}
  .flex-text-70 strong{color:#ffcc00;font-size:18px;display:block;margin-bottom:10px}

  /* Modal */
  .modal{display:none;position:fixed;inset:0;z-index:2000;background:rgba(0,0,0,.8);backdrop-filter:blur(5px);overflow-y:auto}
  .modal-content{background:#000075;color:#fff;margin:5vh auto;padding:30px;width:90%;max-width:1000px;border-radius:20px;box-shadow:0 15px 40px rgba(0,0,0,.5);position:relative;animation:slideDown .4s ease}
  @keyframes slideDown{from{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}
  .close{position:absolute;right:20px;top:15px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:bold;cursor:pointer;color:#fff;transition:.3s;border-radius:50%;background:rgba(255,255,255,.1)}
  .close:hover{background:rgba(255,204,0,.3);color:#ffcc00;transform:rotate(90deg)}
  .modal-content h2{font-size:28px;margin-bottom:25px;padding-bottom:15px;border-bottom:2px solid rgba(255,255,255,.3);padding-right:50px}

  /* Tabs */
  .tab-buttons{display:flex;gap:8px;margin:12px 0 16px}
  .tab-btn{flex:1;background:rgba(255,255,255,.12);color:#fff;border:0;border-radius:10px 10px 0 0;padding:10px;cursor:pointer;font-weight:600;transition:.2s}
  .tab-btn:hover{background:rgba(255,255,255,.2)}
  .tab-btn.active{background:rgba(255,255,255,.28)}
  .tab-content{display:none}
  .tab-content.active{display:block}
  pre{background:rgba(0,0,0,.35);padding:12px;border-radius:10px;overflow:auto;white-space:pre-wrap;word-break:break-word;color:#fff;font-size:13.5px;line-height:1.55}

  /* Floating info */
  #infoFloatingBtn{position:fixed;bottom:30px;right:30px;width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#000075,#0000ff);color:#fff;border:4px solid #fff;cursor:pointer;font-size:16px;font-weight:bold;box-shadow:0 8px 20px rgba(0,0,0,.4);z-index:1500;transition:.3s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px}
  #infoFloatingBtn:hover{transform:scale(1.1);box-shadow:0 12px 30px rgba(0,0,255,.6)}
  #infoFloatingBtn span:first-child{font-size:36px}

  .video-full{width:100%;border-radius:15px;background:#000}
  .video-full video{width:100%;height:auto;border-radius:15px;max-height:70vh}

  @media (max-width:1024px){
    .flex-container-40-60,.flex-container-30-70{flex-direction:column}
    .flex-image-30,.flex-text-70{flex:0 0 100%}
  }
  @media (max-width:768px){
    .modal-content{width:96%;padding:20px 15px}
    #infoFloatingBtn{width:90px;height:90px;font-size:14px;bottom:20px;right:20px}
    #infoFloatingBtn span:first-child{font-size:28px}
  }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
                   <a href="/"><img src="/static/image/logo.png" width="80px" height="80px" alt=""></a>
          
            <span>RGB LED Arduino Simulyatori</span>
        </div>
    </header>

    <div class="main-container">
        <div class="left-panel">
            <div class="control-group">
                <h3>Boshqaruv</h3>
                <button class="btn btn-success" onclick="startSimulation()">Start</button>
                <button class="btn btn-danger" onclick="stopSimulation()">Stop</button>
                <button class="btn btn-primary" onclick="togglePower()">Quvvat</button>
                <button class="btn btn-info" onclick="runTest()">Test</button>
            </div>
<aside class="left-panel">
  <h3>Ma'lumotlar</h3>
  <button class="btn btn-primary" id="schemaBtn">üí° Sxema qayerda ishlatiladi</button>
  <button class="btn btn-primary" id="codeBtn">üíª Kod</button>
  <button class="btn btn-primary" id="componentsBtn">üîå Qurilmalar</button>
</aside>
            <div class="control-group">
                <h3>Qurilma holati</h3>
                <div class="status-row">
                    <span>Quvvat:</span>
                    <div class="status-led" id="powerLed"></div>
                </div>
                <div class="status-row">
                    <span>Pin 9 (Qizil):</span>
                    <div class="status-led" id="redLed"></div>
                </div>
                <div class="status-row">
                    <span>Pin 10 (Yashil):</span>
                    <div class="status-led" id="greenLed"></div>
                </div>
                <div class="status-row">
                    <span>Pin 11 (Ko'k):</span>
                    <div class="status-led" id="blueLed"></div>
                </div>
                <div class="status-row">
                    <span>RGB LED:</span>
                    <div class="status-led" id="rgbStatusLed"></div>
                </div>
            </div>

            <div class="control-group">
                <h3>Rangli rejim</h3>
                <button class="btn btn-primary" onclick="manualColor('red')">üî¥ Qizil</button>
                <button class="btn btn-primary" onclick="manualColor('green')">üü¢ Yashil</button>
                <button class="btn btn-primary" onclick="manualColor('blue')">üîµ Ko'k</button>
                <button class="btn btn-primary" onclick="manualColor('yellow')">üü° Sariq</button>
                <button class="btn btn-primary" onclick="manualColor('purple')">üü£ Binafsha</button>
                <button class="btn btn-primary" onclick="manualColor('cyan')">üî∑ Moviy</button>
                <button class="btn btn-primary" onclick="manualColor('white')">‚ö™ Oq</button>
                <button class="btn btn-danger" onclick="manualColor('off')">‚ö´ O'chirish</button>
            </div>
        </div>
<!-- 1) Sxema qayerda ishlatiladi -->
<div class="modal" id="schemaModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>üí° Sxema qayerda ishlatiladi (RGB LED)</h2>
    <div class="flex-container-40-60">
         <div class="flex-video-40">
                <iframe 
                    src="https://www.youtube.com/embed/T1pmIdSrgLo?si=H5p6ewGg_e3-OkZX" 
                    title="YouTube video player" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            </div>
      <div class="flex-text-60">
        <strong>üîÑ Ishlash prinsipi</strong>
<p>Har bir rang pin Arduino raqamli yoki PWM piniga ulanadi.

Arduino analogWrite() funksiyasi orqali har bir rangning yorqinligini 0‚Äì255 oralig‚Äòida boshqaradi.

Uch rangni turli kombinatsiyada yoqish orqali har qanday rang hosil qilinadi:

Masalan: Qizil + Yashil = Sariq

Qizil + Ko‚Äòk = Magenta

Yashil + Ko‚Äòk = Siyan

Qizil + Yashil + Ko‚Äòk = Oq</p>
      </div>
    </div>
    <div class="flex-container-40-60">
         <div class="flex-video-40">
                <iframe 
                    src="https://www.youtube.com/embed/iFPfg-x1qX8?si=1Cwq6D-YSOVfdmfL" 
                    title="YouTube video player" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            </div>
      <div class="flex-text-60">
        <strong>Qo‚Äòllanilishlar</strong>
        <p>RGB status indikatsiya (masalan, xatolik = qizil, tayyor = yashil, kutish = ko‚Äòk).</p>
        <p>Yorug‚Äòlik effektlari: ‚Äúbreathing‚Äù, smooth gradient, musiqaga sinxron rang o‚Äòzgarish.</p>
        <p>Smart lampalar, dekorativ yoritish, sensorli loyihalarga rangli feedback berish.</p>
      </div>
    </div>
    <div class="flex-container-40-60">
         <div class="flex-video-40">
                <iframe 
                    src="https://www.youtube.com/embed/5Qi93MjlqzE?si=XaBX_KIxWcFzP9jG" 
                    title="YouTube video player" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            </div>
      <div class="flex-text-60">
        <strong>Afzalliklar</strong>
   <p>Rangli vizual effektlar yaratish uchun qulay

Arduino va elektronika asoslarini o‚Äòrganish uchun ideal

Sensorlar va boshqa tizimlar bilan integratsiya qilsa, status indikatori yoki dekorativ LED tizim sifatida ishlatiladi</p>
      </div>
    </div>
  </div>
</div>

<!-- 2) Kod (mBlock ‚Üî Arduino) -->
<div class="modal" id="codeModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>üíª Kod</h2>

    <div class="tab-buttons">
      <button class="tab-btn active" data-tab="mblock">mBlock Kodi</button>
      <button class="tab-btn" data-tab="arduino">Arduino Kodi</button>
    </div>

    <!-- mBlock (rasm yoki tavsif) -->
    <div class="tab-content active" id="mblock">
      <!-- o'zingizning rasm/linkni qo'ying -->
      <pre><img src="/static/image/arduino rgb.png" alt="mBlock ‚Äì RGB LED" style="width:80%;height:auto"></pre>
    </div>

    <!-- Arduino kodi (PWM: 9,10,11 misol) -->
    <div class="tab-content" id="arduino">
<pre>
// RGB LED (Common Cathode varianti) ‚Äì Arduino
// Ulanish (misol): R -> D9 (PWM, 220Œ© orqali), G -> D10 (PWM, 220Œ©), B -> D11 (PWM, 220Œ©), Katod -> GND
// Agar Common Anode bo'lsa, analogWrite-da 255 - qiymat ishlatamiz (invers).

const int PIN_R = 9;
const int PIN_G = 10;
const int PIN_B = 11;

// Common Cathode bo'lsa: 0=OFF, 255=MAX
// Common Anode bo'lsa: 255=OFF, 0=MAX  (invert qilish kerak)

void setColorCC(byte r, byte g, byte b){
  analogWrite(PIN_R, r);
  analogWrite(PIN_G, g);
  analogWrite(PIN_B, b);
}

// Agar LEDingiz Common Anode bo'lsa, mana buni ishlating:
// void setColorCA(byte r, byte g, byte b){
//   analogWrite(PIN_R, 255 - r);
//   analogWrite(PIN_G, 255 - g);
//   analogWrite(PIN_B, 255 - b);
// }

void setup(){
  pinMode(PIN_R, OUTPUT);
  pinMode(PIN_G, OUTPUT);
  pinMode(PIN_B, OUTPUT);
  setColorCC(0,0,0); // o'chirilgan
}

void loop(){
  // Asosiy ranglar
  setColorCC(255,0,0);   delay(600);  // Qizil
  setColorCC(0,255,0);   delay(600);  // Yashil
  setColorCC(0,0,255);   delay(600);  // Ko'k

  // Aralash ranglar
  setColorCC(255,255,0); delay(600);  // Sariq
  setColorCC(0,255,255); delay(600);  // Cyan
  setColorCC(255,0,255); delay(600);  // Magenta
  setColorCC(255,255,255);delay(600); // Oq

  // Smooth fade: R->G->B gradient
  for(int i=0;i<=255;i+=5){ setColorCC(255-i, i, 0); delay(20); }
  for(int i=0;i<=255;i+=5){ setColorCC(0, 255-i, i); delay(20); }
  for(int i=0;i<=255;i+=5){ setColorCC(i, 0, 255-i); delay(20); }
}
</pre>
    </div>
  </div>
</div>

<!-- 3) Qurilmalar -->
<div class="modal" id="componentsModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>üîå Ishlatilgan Qurilmalar</h2>

    <div class="flex-container-30-70">
      <div class="flex-image-30"><img src="/static/image/arduino1 - Copy.png" alt="Arduino UNO"></div>
      <div class="flex-text-70">
        <strong>Arduino UNO</strong>
        <p>PWM chiqishlar orqali R/G/B kanallarni boshqarish.</p>
      </div>
    </div>

    <div class="flex-container-30-70">
      <div class="flex-image-30"><img src="/static/image/rgb.jpg" alt="RGB LED"></div>
      <div class="flex-text-70">
        <strong>RGB LED (Common Cathode/Anode)</strong>
        <p>Turiga qarab ulanish (katod GND yoki anod 5V). Common Anode bo‚Äòlsa PWM qiymatlarini invert qiling.</p>
      </div>
    </div>

    <div class="flex-container-30-70">
      <div class="flex-image-30"><img src="/static/image/resistor.png" alt="220Œ©"></div>
      <div class="flex-text-70">
        <strong>220Œ© qarshilik (x3)</strong>
        <p>Har bir R/G/B kanalga alohida himoya qarshiligi.</p>
      </div>
    </div>

    <div class="flex-container-30-70">
      <div class="flex-image-30"><img src="/static/image/breadboard-removebg-preview.png" alt="Breadboard"></div>
      <div class="flex-text-70">
        <strong>Breadboard + jumper simlar</strong>
        <p>Lehimlashsiz ulash uchun.</p>
      </div>
    </div>
  </div>
</div>

<!-- Qo'shimcha info (ixtiyoriy) -->
<div class="modal" id="infoModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>üìö Qo'shimcha Ma'lumot</h2>
    <div class="video-full">
      <!-- xohlasangiz video qo'ying -->
      <video controls>
        <source src="/media/2.mp4" type="video/mp4">
        Brauzeringiz video formatni qo'llab-quvvatlamaydi.
      </video>
    </div>
  </div>
</div>

<button id="infoFloatingBtn"><span>üìö</span><span>Ma'lumot</span></button>

        <div class="main-content">

            
            <div class="circuit-board">
                <div class="time-display" id="timeDisplay">Vaqt: 0s</div>
                
                <div class="arduino">
                    <img src="/static/image/arduino1.png" alt="Arduino">
                </div>

                <div class="breadboard">
                    <img src="/static/image/breadboard-removebg-preview.png" alt="Breadboard">
                </div>

                <div class="rgb-led off" id="rgbLed">
                    <div class="led-inner"></div>
                </div>
                
                <div class="led-pin led-pin-1"></div>
                <div class="led-pin led-pin-2"></div>
                <div class="led-pin led-pin-3"></div>
                <div class="led-pin led-pin-4"></div>

                <div class="resistor r220">
                    <img src="/static/image/./resistor.png" alt="220Œ©">
                </div>
                <div class="resistor r220-2">
                    <img src="/static/image/./resistor.png" alt="220Œ©">
                </div>
                <div class="resistor r220-3">
                    <img src="/static/image/./resistor.png" alt="220Œ©">
                </div>

                <div class="wire wire-arduino-red-h"></div>
                <div class="wire wire-arduino-green-h"></div>
                <div class="wire wire-arduino-blue-h"></div>
                <div class="wire wire-arduino-gnd-h"></div>
                 <div class="wire wire-arduino-gnd-h1"></div>
                <div class="wire wire-arduino-gnd"></div>
                <div class="wire wire-v2"></div>
                <div class="wire wire-v3"></div>
            </div>
        </div>
    </div>

    <script>
        let powerOn = false;
        let simulationRunning = false;
        let currentColor = 'off';
        let colorIndex = 0;
        let intervalId = null;
        let timeElapsed = 0;
        let timeIntervalId = null;

        const colors = ['red', 'green', 'blue', 'yellow', 'purple', 'cyan', 'white'];

        const elements = {
            powerLed: document.getElementById('powerLed'),
            redLed: document.getElementById('redLed'),
            greenLed: document.getElementById('greenLed'),
            blueLed: document.getElementById('blueLed'),
            rgbStatusLed: document.getElementById('rgbStatusLed'),
            rgbLed: document.getElementById('rgbLed'),
            timeDisplay: document.getElementById('timeDisplay')
        };

        function updateLED(color) {
            const led = elements.rgbLed;
            colors.forEach(c => led.classList.remove(c));
            led.classList.remove('off');
            if (color !== 'off') {
                led.classList.add(color);
            } else {
                led.classList.add('off');
            }
            currentColor = color;
            updateStatusLEDs(color);
        }
  // --- Modal helpers ---
  function openModal(id){ const m=document.getElementById(id); if(m) m.style.display='block'; }
  function closeModal(el){ const m=el.closest('.modal'); if(m) m.style.display='none'; }

  document.addEventListener('click', (e)=>{ if(e.target.matches('.modal .close')) closeModal(e.target); });
  window.addEventListener('click', (e)=>{
    document.querySelectorAll('.modal').forEach(m=>{ if(e.target===m) m.style.display='none'; });
  });

  // --- Buttons -> Modals ---
  document.getElementById('schemaBtn')?.addEventListener('click', ()=>openModal('schemaModal'));
  document.getElementById('codeBtn')?.addEventListener('click',   ()=>openModal('codeModal'));
  document.getElementById('componentsBtn')?.addEventListener('click', ()=>openModal('componentsModal'));
  document.getElementById('infoFloatingBtn')?.addEventListener('click', ()=>openModal('infoModal'));

  // --- Tabs (faqat codeModal ichida) ---
  (function(){
    const codeModal=document.getElementById('codeModal');
    if(!codeModal) return;
    codeModal.querySelectorAll('.tab-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const t=btn.dataset.tab;
        codeModal.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        codeModal.querySelectorAll('.tab-content').forEach(p=>p.classList.toggle('active', p.id===t));
      });
    });
  })();
        function updateStatusLEDs(color) {
            elements.redLed.classList.toggle('on', ['red', 'yellow', 'purple', 'white'].includes(color));
            elements.greenLed.classList.toggle('on', ['green', 'yellow', 'cyan', 'white'].includes(color));
            elements.blueLed.classList.toggle('on', ['blue', 'purple', 'cyan', 'white'].includes(color));
            elements.rgbStatusLed.classList.toggle('on', color !== 'off');
            elements.powerLed.classList.toggle('on', powerOn);
        }

        function updateTimer() {
            elements.timeDisplay.textContent = `Vaqt: ${timeElapsed}s`;
            timeElapsed++;
        }

        function togglePower() {
            powerOn = !powerOn;
            if (!powerOn) {
                stopSimulation();
                updateLED('off');
            }
            updateStatusLEDs(currentColor);
        }

        function startSimulation() {
            if (!powerOn) {
                alert('Avval quvvatni yoqing!');
                return;
            }
            if (simulationRunning) return;
            
            simulationRunning = true;
            timeElapsed = 0;
            colorIndex = 0;
            
            timeIntervalId = setInterval(updateTimer, 1000);
            intervalId = setInterval(() => {
                if (simulationRunning && powerOn) {
                    updateLED(colors[colorIndex]);
                    colorIndex = (colorIndex + 1) % colors.length;
                }
            }, 2000);
            
            updateLED(colors[colorIndex]);
            colorIndex++;
        }

        function stopSimulation() {
            simulationRunning = false;
            if (intervalId) clearInterval(intervalId);
            if (timeIntervalId) clearInterval(timeIntervalId);
            updateLED('off');
        }

        function runTest() {
            if (!powerOn) {
                alert('Avval quvvatni yoqing!');
                return;
            }
            
            let testIndex = 0;
            const testInterval = setInterval(() => {
                if (testIndex < colors.length) {
                    updateLED(colors[testIndex]);
                    testIndex++;
                } else {
                    clearInterval(testInterval);
                    updateLED('off');
                }
            }, 1000);
        }

        function manualColor(color) {
            if (!powerOn && color !== 'off') {
                alert('Avval quvvatni yoqing!');
                return;
            }
            if (simulationRunning) stopSimulation();
            updateLED(color);
        }

        function resetAll() {
            stopSimulation();
            powerOn = false;
            timeElapsed = 0;
            updateLED('off');
            elements.timeDisplay.textContent = 'Vaqt: 0s';
        }

        updateLED('off');
    </script>
</body>
</html>